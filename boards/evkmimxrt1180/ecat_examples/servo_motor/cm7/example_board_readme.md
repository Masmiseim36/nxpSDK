Hardware requirements
=====================
- MIMXRT1180-EVK RevC
- FRDM-MC-LVPMSM
- Teknic2311P Motor
- RJ45 Network cable
- Mini/micro USB cable
- Personal Computer on which the TwinCat3 has been installed

Board settings
==============
Board needs to rework, please refer to '.\docs\ecatServoMotor\eCAT_Servo_Motor_Example_User_Guide.pdf' to rework board.

Prepare the Demo
================
1. Generate the SSC source code
	- Download Slave Stack Code Tool(SSC Tool) from BECKHOFF official website and install it
	- Open Slave Stack Code Tool
	- Click 'File' -> 'New' -> 'Import' to import the Congfig file
		Select servo_motor.xml under path '.\boards\evkmimxrt1180\ecat_examples\servo_motor\<core>\SSC'.
	- Click 'Project' -> 'Create new Slave Files'
		'Source Folder'(default): '.\boards\evkmimxrt1180\ecat_examples\servo_motor\<core>\SSC\Src'.
		Click 'Start'.
	
2. Copy SSC souce code to '.\boards\evkmimxrt1180\ecat_examples\servo_motor\<core>\SSC\Src', and change to '.\boards\evkmimxrt1180\ecat_examples\servo_motor\<core>\SSC' path to apply the patch.
	Linux:
		1. Download dos2unix command
			apt-get install dos2unix
		2. Transfer SSC source code format
			dos2unix Src/*
		3. Apply patch
			patch -d Src <  CiA402-combine-the-SSC-slave-with-ec_pmsm-support.patch
	Windows:
		1. Download patch.exe and Unix2Dos.exe tool
			Download Windows Patch Utility from http://gnuwin32.sourceforge.net/downlinks/patch-bin-zip.php .
			Download Dos2Unix/Unix2Dos-Text file format converters from https://sourceforge.net/projects/dos2unix/ .
		2. Transfer the patch format
			$(Dos2Unix/Unix2Dos-DIR)/bin/unix2dos.exe CiA402-combine-the-SSC-slave-with-ec_pmsm-support.patch
		3. Apply patch
			patch.exe -i CiA402-combine-the-SSC-slave-with-ec_pmsm-support.patch -d ./Src

3. Connect FRDM-MC-LVPMSM board
	Connect the Teknic2311P motor to FRDM-MC-LVPMSM board and connect FRDM-MC-LVPMSM board to MIMXRT1180-EVK board.
	
4. Connect EtherCAT Port0 with TwinCAT3
	RJ45 interface labeled as J28 is the EtherCAT Port0.

5. Connect a USB cable between the host PC and the OpenSDA USB port on the target board

6. Open a serial terminal with the following settings
	- 115200 baud rate
	- 8 data bits
 	- No parity
	- One stop bit
	- No flow control

7. Download the program to the target board

8. Either press the reset button on your board or launch the debugger in your IDE to begin running the demo

9. Update ESI file to EEPROM
	- Copy ESI file 'ECAT-SERVO-MOTOR.xml' generated by SSC TOOL to <TwinCAT_installation_folder>/<Version>/Config/io/EtherCAT/
	- Restart TwinCAT3 IDE
	- Scan device and Update EEPROM

10. Scan and load this device
		
11. Activate configuration and start motor control

Detailed User Guide
================
- [Introduction](./topics/introduction.md)
- [Hardware Setup](./topics/hardware_setup.md)
- [Mcuxpresso SDK Download](./topics/mcuxpresso_sdk_download.md)
- [SSC Source Code Generate](./topics/generate_ssc_code_for_servo_motor.md)
- [Compile and Download](./topics/compile_and_download_the_image_to_rt1180.md)
- [Install TwinCAT](./topics/download_and_install_the_twincat_software.md)
- [TwinCAT Project Setup](./topics/twincat_project_setup.md)
- [Tuning Motor Parameters](./topics/tuning_motor_parameters.md)
- [Note](./topics/note_about_the_source_code_in_the_document.md)

