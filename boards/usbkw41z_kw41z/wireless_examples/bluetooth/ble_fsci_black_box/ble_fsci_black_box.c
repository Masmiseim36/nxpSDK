/*! *********************************************************************************
* \addtogroup FSCI BLE application
* @{
********************************************************************************** */
/*!
* Copyright (c) 2015, Freescale Semiconductor, Inc.
* Copyright 2016-2017 NXP
* All rights reserved.
* 
* file
*
* SPDX-License-Identifier: BSD-3-Clause
*/

/************************************************************************************
*************************************************************************************
* Include
*************************************************************************************
************************************************************************************/
/* Framework / Drivers */
#include "LED.h"
#include "Keyboard.h"
#include "SerialManager.h"
#include "FsciInterface.h"

/* BLE Host Stack */
#include "fsci_ble_interface.h"

/*  Application */
#include "ble_fsci_black_box.h"

#if gHkb_d
#include "fsl_port_hal.h"
#endif

/************************************************************************************
*************************************************************************************
* Private type definitions
*************************************************************************************
************************************************************************************/

/************************************************************************************
*************************************************************************************
* Private memory declarations
*************************************************************************************
************************************************************************************/

/* FSCI Interface Configuration structure */
static const gFsciSerialConfig_t fsciConfigStruct[] = {
    /* Baudrate,                        interface type,                  channel No,                virtual interface */
    {APP_SERIAL_INTERFACE_SPEED, APP_SERIAL_INTERFACE_TYPE, APP_SERIAL_INTERFACE_INSTANCE,           0}  
};

/************************************************************************************
*************************************************************************************
* Private functions prototypes
*************************************************************************************
************************************************************************************/

/************************************************************************************
*************************************************************************************
* Public functions
*************************************************************************************
************************************************************************************/

void BleApp_Init(void)
{
    /* Init serial manager */
    SerialManager_Init();  
    
    /* Init FSCI */
    FSCI_Init((void*)fsciConfigStruct);
    
    /* Register BLE handlers in FSCI */
    fsciBleRegister(0);
    
#if gHkb_d
    PORT_HAL_SetMuxMode(PORTC,0u,kPortPinDisabled);
    PORT_HAL_SetMuxMode(PORTC,1u,kPortPinDisabled);
#endif
}    


void BleApp_HandleKeys(key_event_t events)
{
    (void)events;
}


void BleApp_GenericCallback(gapGenericEvent_t* pGenericEvent)
{
}

/************************************************************************************
*************************************************************************************
* Private functions
*************************************************************************************
************************************************************************************/

/*! *********************************************************************************
* @}
********************************************************************************** */
