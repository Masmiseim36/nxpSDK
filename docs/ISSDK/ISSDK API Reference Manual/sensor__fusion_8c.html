<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ISSDK: algorithms/sensorfusion/sources/sensor_fusion.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="issdk_stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nxp_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ISSDK
   &#160;<span id="projectnumber">1.6</span>
   </div>
   <div id="projectbrief">IoT Sensing Software Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c0ce462e37efe0a8d60c01d75f78f8a0.html">algorithms</a></li><li class="navelem"><a class="el" href="dir_cb8ed5ffd1f20a5af7e420f81f312621.html">sensorfusion</a></li><li class="navelem"><a class="el" href="dir_c60867674b20e7d761cd401b87ce879d.html">sources</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sensor_fusion.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="sensor__fusion_8c.html" title="The sensor_fusion.c file implements the top level programming interface. ">sensor_fusion.c</a> file implements the top level programming interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sensor__fusion_8h_source.html">sensor_fusion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="magnetic_8h_source.html">magnetic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="drivers_8h_source.html">drivers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sensor__drv_8h_source.html">sensor_drv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="status_8h_source.html">status.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="control_8h_source.html">control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fusion_8h_source.html">fusion.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sensor_fusion.c:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c__incl.png" border="0" usemap="#algorithms_2sensorfusion_2sources_2sensor__fusion_8c" alt=""/></div>
<map name="algorithms_2sensorfusion_2sources_2sensor__fusion_8c" id="algorithms_2sensorfusion_2sources_2sensor__fusion_8c">
<area shape="rect" id="node3" href="sensor__fusion_8h.html" title="The sensor_fusion.h file implements the top level programming interface. " alt="" coords="87,169,201,196"/>
<area shape="rect" id="node4" href="magnetic_8h.html" title="Lower level magnetic calibration interface. " alt="" coords="102,244,189,271"/>
<area shape="rect" id="node5" href="drivers_8h.html" title="Provides function prototypes for driver level interfaces. " alt="" coords="194,95,265,121"/>
<area shape="rect" id="node6" href="sensor__drv_8h.html" title="The sensor_drv.h file contains sensor state and error definitions. " alt="" coords="289,95,383,121"/>
<area shape="rect" id="node7" href="status_8h.html" title="Application&#45;specific status subsystem. " alt="" coords="408,95,477,121"/>
<area shape="rect" id="node8" href="control_8h.html" title="Defines control sub&#45;system. " alt="" coords="501,95,573,121"/>
<area shape="rect" id="node9" href="fusion_8h.html" title="Lower level sensor fusion interface. " alt="" coords="52,95,119,121"/>
</map>
</div>
</div>
<p><a href="sensor__fusion_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a741fd2193cc58c09b692d1ae2b7a81e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#a741fd2193cc58c09b692d1ae2b7a81e8">setStatus</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, <a class="el" href="sensor__fusion_8h.html#a69ee883e1c22b117df163c0bd83f66dd">fusion_status_t</a> status)</td></tr>
<tr class="separator:a741fd2193cc58c09b692d1ae2b7a81e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96e36747e6a1aabbec1381f15132ec6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#ae96e36747e6a1aabbec1381f15132ec6">queueStatus</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, <a class="el" href="sensor__fusion_8h.html#a69ee883e1c22b117df163c0bd83f66dd">fusion_status_t</a> status)</td></tr>
<tr class="separator:ae96e36747e6a1aabbec1381f15132ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13c4a9f07f3a2abfdb2e0808e5752d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#aa13c4a9f07f3a2abfdb2e0808e5752d4">updateStatus</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="separator:aa13c4a9f07f3a2abfdb2e0808e5752d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142a0a30c123f8acf79a3e8e5072cad8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#a142a0a30c123f8acf79a3e8e5072cad8">testStatus</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="separator:a142a0a30c123f8acf79a3e8e5072cad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b44018042fabb5179c2e62277cc942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#a43b44018042fabb5179c2e62277cc942">initSensorFusionGlobals</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, <a class="el" href="struct_status_subsystem.html">StatusSubsystem</a> *pStatusSubsystem, <a class="el" href="struct_control_subsystem.html">ControlSubsystem</a> *pControlSubsystem)</td></tr>
<tr class="memdesc:a43b44018042fabb5179c2e62277cc942"><td class="mdescLeft">&#160;</td><td class="mdescRight">utility function to insert default values in the top level structure  <a href="#a43b44018042fabb5179c2e62277cc942">More...</a><br /></td></tr>
<tr class="separator:a43b44018042fabb5179c2e62277cc942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86ade0d4a34861b6a7bb0d232fb8e0c"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#ad86ade0d4a34861b6a7bb0d232fb8e0c">installSensor</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, struct <a class="el" href="struct_physical_sensor.html">PhysicalSensor</a> *pSensor, uint16_t addr, uint16_t schedule, void *bus_driver, <a class="el" href="structregister_device_info__t.html">registerDeviceInfo_t</a> *busInfo, <a class="el" href="sensor__fusion_8h.html#a94a511080fe3acc46bcee1a85f25432c">initializeSensor_t</a> *initialize, <a class="el" href="sensor__fusion_8h.html#a2c12de378ddfbb05f2f9549b62eddb87">readSensor_t</a> *read)</td></tr>
<tr class="separator:ad86ade0d4a34861b6a7bb0d232fb8e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae748e1330b5a94783c6d4ea2ad9e4f28"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#ae748e1330b5a94783c6d4ea2ad9e4f28">initializeSensors</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="separator:ae748e1330b5a94783c6d4ea2ad9e4f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8b47198fa614f0b50265addf44a8b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#aaf8b47198fa614f0b50265addf44a8b0">processMagData</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="separator:aaf8b47198fa614f0b50265addf44a8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d688188b65f43d38ac760a79d9eb116"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#a0d688188b65f43d38ac760a79d9eb116">readSensors</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, uint16_t read_loop_counter)</td></tr>
<tr class="separator:a0d688188b65f43d38ac760a79d9eb116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef2b1f23f820d2b513bc827f8baffd0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#aef2b1f23f820d2b513bc827f8baffd0d">conditionSensorReadings</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="separator:aef2b1f23f820d2b513bc827f8baffd0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57932c39d665755aeee1e62fac763e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#ac57932c39d665755aeee1e62fac763e3">zeroArray</a> (<a class="el" href="struct_status_subsystem.html">StatusSubsystem</a> *pStatus, void *data, uint16_t <a class="el" href="data__format__service_8h.html#a18e09d6eabccd6dfc2d5066542020e59">size</a>, uint16_t numElements, uint8_t check)</td></tr>
<tr class="separator:ac57932c39d665755aeee1e62fac763e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af8710b3e87acd2a33e7988b2d75b6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#a9af8710b3e87acd2a33e7988b2d75b6c">clearFIFOs</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="memdesc:a9af8710b3e87acd2a33e7988b2d75b6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to clear FIFO at the end of each fusion computation.  <a href="#a9af8710b3e87acd2a33e7988b2d75b6c">More...</a><br /></td></tr>
<tr class="separator:a9af8710b3e87acd2a33e7988b2d75b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b90119fee979d0309cc923bf1fad543"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#a8b90119fee979d0309cc923bf1fad543">runFusion</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="separator:a8b90119fee979d0309cc923bf1fad543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab088da7731ffdf25710a364a7f88b224"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#ab088da7731ffdf25710a364a7f88b224">initializeFusionEngine</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>)</td></tr>
<tr class="separator:ab088da7731ffdf25710a364a7f88b224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2686eeb8ae44e588362478db1f757a0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#a2686eeb8ae44e588362478db1f757a0e">conditionSample</a> (int16_t sample[3])</td></tr>
<tr class="memdesc:a2686eeb8ae44e588362478db1f757a0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">conditionSample ensures that we never encounter the maximum negative two's complement value for a 16-bit variable (-32768).  <a href="#a2686eeb8ae44e588362478db1f757a0e">More...</a><br /></td></tr>
<tr class="separator:a2686eeb8ae44e588362478db1f757a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d2343e9a63bd3879ae477ec4536f6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sensor__fusion_8c.html#ae7d2343e9a63bd3879ae477ec4536f6a">addToFifo</a> (union <a class="el" href="union_fifo_sensor.html">FifoSensor</a> *sensor, uint16_t maxFifoSize, int16_t sample[3])</td></tr>
<tr class="memdesc:ae7d2343e9a63bd3879ae477ec4536f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">addToFifo is called from within sensor driver read functions  <a href="#ae7d2343e9a63bd3879ae477ec4536f6a">More...</a><br /></td></tr>
<tr class="separator:ae7d2343e9a63bd3879ae477ec4536f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="sensor__fusion_8c.html" title="The sensor_fusion.c file implements the top level programming interface. ">sensor_fusion.c</a> file implements the top level programming interface. </p>

<p>Definition in file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae7d2343e9a63bd3879ae477ec4536f6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addToFifo </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="union_fifo_sensor.html">FifoSensor</a> *&#160;</td>
          <td class="paramname"><em>sensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>maxFifoSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>sample</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>addToFifo is called from within sensor driver read functions </p>
<p>addToFifo is called from within sensor driver read functions to transfer new readings into the sensor structure corresponding to accel, gyro or mag. This function ensures that the software FIFOs are not overrun.</p>
<p>example usage: if (status==SENSOR_ERROR_NONE) addToFifo((FifoSensor*) &amp;(sfg-&gt;Mag), MAG_FIFO_SIZE, sample); </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor</td><td>pointer to structure of type <a class="el" href="struct_accel_sensor.html" title="The AccelSensor structure stores raw and processed measurements for a 3-axis accelerometer. ">AccelSensor</a>, <a class="el" href="struct_mag_sensor.html" title="The MagSensor structure stores raw and processed measurements for a 3-axis magnetic sensor...">MagSensor</a> or <a class="el" href="struct_gyro_sensor.html" title="The GyroSensor structure stores raw and processed measurements for a 3-axis gyroscope. ">GyroSensor</a> </td></tr>
    <tr><td class="paramname">maxFifoSize</td><td>the size of the software (not hardware) FIFO </td></tr>
    <tr><td class="paramname">sample</td><td>the sample to add </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00541">541</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00278">FifoSensor::Accel</a>, <a class="el" href="sensor__fusion_8h_source.html#l00082">CHX</a>, <a class="el" href="sensor__fusion_8h_source.html#l00083">CHY</a>, <a class="el" href="sensor__fusion_8h_source.html#l00084">CHZ</a>, <a class="el" href="sensor__fusion_8h_source.html#l00218">AccelSensor::iFIFOCount</a>, <a class="el" href="sensor__fusion_8h_source.html#l00219">AccelSensor::iFIFOExceeded</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00220">AccelSensor::iGsFIFO</a>.</p>

<p>Referenced by <a class="el" href="driver___f_x_l_s8471_q_8c_source.html#l00178">FXLS8471Q_Read()</a>, <a class="el" href="driver___f_x_o_s8700_8c_source.html#l00152">FXOS8700_Init()</a>, <a class="el" href="driver___f_x_o_s8700_8c_source.html#l00242">FXOS8700_ReadMagData()</a>, and <a class="el" href="driver___m_a_g3110_8c_source.html#l00135">MAG3110_Read()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_ae7d2343e9a63bd3879ae477ec4536f6a_icgraph.png" border="0" usemap="#sensor__fusion_8c_ae7d2343e9a63bd3879ae477ec4536f6a_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_ae7d2343e9a63bd3879ae477ec4536f6a_icgraph" id="sensor__fusion_8c_ae7d2343e9a63bd3879ae477ec4536f6a_icgraph">
<area shape="rect" id="node2" href="drivers_8h.html#ac818465f3f2f5bd60e71c5c7d8a8a261" title="FXLS8471Q_Read" alt="" coords="155,5,283,32"/>
<area shape="rect" id="node3" href="drivers_8h.html#ac61bf451efc3a4eab179dbc59268b3e7" title="FXOS8700_Init" alt="" coords="165,56,273,83"/>
<area shape="rect" id="node4" href="driver___f_x_o_s8700_8c.html#a16645c35980d715e5252f30beebecaa2" title="FXOS8700_ReadMagData" alt="" coords="132,107,305,133"/>
<area shape="rect" id="node5" href="drivers_8h.html#a2592117f3e2fed5f61ff029cb18fa556" title="MAG3110_Read" alt="" coords="160,157,277,184"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9af8710b3e87acd2a33e7988b2d75b6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearFIFOs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to clear FIFO at the end of each fusion computation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sfg</td><td>Global data structure pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00373">373</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00240">MagSensor::iFIFOCount</a>, <a class="el" href="sensor__fusion_8h_source.html#l00241">MagSensor::iFIFOExceeded</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00511">SensorFusionGlobals::Mag</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00481">initializeFusionEngine()</a>, <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>, and <a class="el" href="sensor__fusion_8c_source.html#l00396">runFusion()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a9af8710b3e87acd2a33e7988b2d75b6c_icgraph.png" border="0" usemap="#sensor__fusion_8c_a9af8710b3e87acd2a33e7988b2d75b6c_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_a9af8710b3e87acd2a33e7988b2d75b6c_icgraph" id="sensor__fusion_8c_a9af8710b3e87acd2a33e7988b2d75b6c_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8c.html#ab088da7731ffdf25710a364a7f88b224" title="initializeFusionEngine" alt="" coords="140,5,288,32"/>
<area shape="rect" id="node3" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="336,56,499,83"/>
<area shape="rect" id="node4" href="sensor__fusion_8c.html#a8b90119fee979d0309cc923bf1fad543" title="runFusion" alt="" coords="175,107,253,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2686eeb8ae44e588362478db1f757a0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void conditionSample </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>sample</em>[3]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>conditionSample ensures that we never encounter the maximum negative two's complement value for a 16-bit variable (-32768). </p>
<p>conditionSample ensures that we never encounter the maximum negative two's complement value for a 16-bit variable (-32768). This value cannot be negated, because the maximum positive value is +32767. We need the ability to negate to gaurantee that subsequent HAL operations can be run successfully. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample</td><td>16-bit register value from triaxial sensor read </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00529">529</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00082">CHX</a>, <a class="el" href="sensor__fusion_8h_source.html#l00083">CHY</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00084">CHZ</a>.</p>

<p>Referenced by <a class="el" href="driver___f_x_l_s8471_q_8c_source.html#l00178">FXLS8471Q_Read()</a>, <a class="el" href="driver___f_x_o_s8700_8c_source.html#l00152">FXOS8700_Init()</a>, <a class="el" href="driver___f_x_o_s8700_8c_source.html#l00242">FXOS8700_ReadMagData()</a>, and <a class="el" href="driver___m_a_g3110_8c_source.html#l00135">MAG3110_Read()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a2686eeb8ae44e588362478db1f757a0e_icgraph.png" border="0" usemap="#sensor__fusion_8c_a2686eeb8ae44e588362478db1f757a0e_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_a2686eeb8ae44e588362478db1f757a0e_icgraph" id="sensor__fusion_8c_a2686eeb8ae44e588362478db1f757a0e_icgraph">
<area shape="rect" id="node2" href="drivers_8h.html#ac818465f3f2f5bd60e71c5c7d8a8a261" title="FXLS8471Q_Read" alt="" coords="195,5,323,32"/>
<area shape="rect" id="node3" href="drivers_8h.html#ac61bf451efc3a4eab179dbc59268b3e7" title="FXOS8700_Init" alt="" coords="205,56,313,83"/>
<area shape="rect" id="node4" href="driver___f_x_o_s8700_8c.html#a16645c35980d715e5252f30beebecaa2" title="FXOS8700_ReadMagData" alt="" coords="172,107,345,133"/>
<area shape="rect" id="node5" href="drivers_8h.html#a2592117f3e2fed5f61ff029cb18fa556" title="MAG3110_Read" alt="" coords="200,157,317,184"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aef2b1f23f820d2b513bc827f8baffd0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void conditionSensorReadings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="sensor__fusion_8c.html#aef2b1f23f820d2b513bc827f8baffd0d">conditionSensorReadings()</a> transforms raw software FIFO readings into forms that can be consumed by the sensor fusion engine. This include sample averaging and (in the case of the gyro) integrations, applying hardware abstraction layers, and calibration functions. This function is normally involved via the "sfg." global pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sfg</td><td>Global data structure pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00315">315</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00239">MagSensor::isEnabled</a>, <a class="el" href="sensor__fusion_8h_source.html#l00511">SensorFusionGlobals::Mag</a>, and <a class="el" href="sensor__fusion_8c_source.html#l00219">processMagData()</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_cgraph.png" border="0" usemap="#sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_cgraph" alt=""/></div>
<map name="sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_cgraph" id="sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_cgraph">
<area shape="rect" id="node2" href="sensor__fusion_8c.html#aaf8b47198fa614f0b50265addf44a8b0" title="processMagData" alt="" coords="223,5,343,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_icgraph.png" border="0" usemap="#sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_icgraph" id="sensor__fusion_8c_aef2b1f23f820d2b513bc827f8baffd0d_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="223,5,385,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab088da7731ffdf25710a364a7f88b224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initializeFusionEngine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is responsible for initializing the system prior to starting the main fusion loop. This function is normally involved via the "sfg." global pointer. </p>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00481">481</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="control_8h_source.html#l00071">ControlSubsystem::AccelCalPacketOn</a>, <a class="el" href="driver__systick_8c_source.html#l00076">ARM_systick_delay_ms()</a>, <a class="el" href="driver__systick_8c_source.html#l00048">ARM_systick_enable()</a>, <a class="el" href="sensor__fusion_8c_source.html#l00373">clearFIFOs()</a>, <a class="el" href="frdm__k64f_8h_source.html#l00170">CORE_SYSTICK_HZ</a>, <a class="el" href="control_8h_source.html#l00065">ControlSubsystem::DefaultQuaternionPacketType</a>, <a class="el" href="standard__build_8h_source.html#l00074">F_3DOF_B_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00075">F_3DOF_Y_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00076">F_6DOF_GB_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00077">F_6DOF_GY_KALMAN</a>, <a class="el" href="standard__build_8h_source.html#l00078">F_9DOF_GBY_KALMAN</a>, <a class="el" href="precision_accelerometer_8c_source.html#l00040">fInitializeAccelCalibration()</a>, <a class="el" href="fusion_8c_source.html#l00055">fInitializeFusion()</a>, <a class="el" href="magnetic_8c_source.html#l00046">fInitializeMagCalibration()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00133">HARD_FAULT</a>, <a class="el" href="sensor__fusion_8h_source.html#l00489">SensorFusionGlobals::iFlags</a>, <a class="el" href="sensor__fusion_8c_source.html#l00167">initializeSensors()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00128">INITIALIZING</a>, <a class="el" href="sensor__fusion_8h_source.html#l00493">SensorFusionGlobals::loopcounter</a>, <a class="el" href="sensor__fusion_8h_source.html#l00513">SensorFusionGlobals::MagBuffer</a>, <a class="el" href="sensor__fusion_8h_source.html#l00512">SensorFusionGlobals::MagCal</a>, <a class="el" href="sensor__fusion_8h_source.html#l00130">NORMAL</a>, <a class="el" href="sensor__fusion_8h_source.html#l00484">SensorFusionGlobals::pControlSubsystem</a>, <a class="el" href="sensor__fusion_8h_source.html#l00071">Q3</a>, <a class="el" href="sensor__fusion_8h_source.html#l00073">Q3G</a>, <a class="el" href="sensor__fusion_8h_source.html#l00072">Q3M</a>, <a class="el" href="sensor__fusion_8h_source.html#l00075">Q6AG</a>, <a class="el" href="sensor__fusion_8h_source.html#l00074">Q6MA</a>, <a class="el" href="sensor__fusion_8h_source.html#l00076">Q9</a>, <a class="el" href="control_8h_source.html#l00066">ControlSubsystem::QuaternionPacketType</a>, <a class="el" href="sensor__drv_8h_source.html#l00055">SENSOR_ERROR_NONE</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00553">SensorFusionGlobals::setStatus</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_cgraph.png" border="0" usemap="#sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_cgraph" alt=""/></div>
<map name="sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_cgraph" id="sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_cgraph">
<area shape="rect" id="node2" href="driver__systick_8c.html#a8075e82d5c7ce23802841551a953e170" title="ARM_systick_delay_ms" alt="" coords="203,5,366,32"/>
<area shape="rect" id="node3" href="driver__systick_8c.html#a12342d97ebedd191c344ea0d5e1e7646" title="ARM_systick_enable" alt="" coords="212,56,357,83"/>
<area shape="rect" id="node4" href="sensor__fusion_8c.html#a9af8710b3e87acd2a33e7988b2d75b6c" title="Function to clear FIFO at the end of each fusion computation. " alt="" coords="241,107,328,133"/>
<area shape="rect" id="node5" href="precision_accelerometer_8c.html#ab8572ce21837538a984e62035db4d89e" title="Initialize the accelerometer calibration functions. " alt="" coords="201,157,368,184"/>
<area shape="rect" id="node6" href="fusion_8c.html#ad9cb3659204ae7a30109ceaf4d94ecec" title="fInitializeFusion" alt="" coords="229,208,340,235"/>
<area shape="rect" id="node7" href="magnetic_8c.html#a0671e3b0a0f73cd25a9880f1e14d5cb0" title="fInitializeMagCalibration" alt="" coords="205,259,364,285"/>
<area shape="rect" id="node8" href="sensor__fusion_8c.html#ae748e1330b5a94783c6d4ea2ad9e4f28" title="initializeSensors" alt="" coords="226,309,343,336"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_icgraph.png" border="0" usemap="#sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_icgraph" id="sensor__fusion_8c_ab088da7731ffdf25710a364a7f88b224_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="201,5,364,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae748e1330b5a94783c6d4ea2ad9e4f28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t initializeSensors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00167">167</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="control_8h_source.html#l00071">ControlSubsystem::AccelCalPacketOn</a>, <a class="el" href="hal__frdm__fxs__mult2__b_8c_source.html#l00044">ApplyAccelHAL()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00082">CHX</a>, <a class="el" href="sensor__fusion_8h_source.html#l00084">CHZ</a>, <a class="el" href="precision_accelerometer_8c_source.html#l00140">fInvertAccelCal()</a>, <a class="el" href="precision_accelerometer_8c_source.html#l00088">fUpdateAccelBuffer()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00186">PhysicalSensor::initialize</a>, <a class="el" href="sensor__fusion_8h_source.html#l00184">PhysicalSensor::next</a>, <a class="el" href="sensor__fusion_8h_source.html#l00484">SensorFusionGlobals::pControlSubsystem</a>, <a class="el" href="sensor__fusion_8h_source.html#l00490">SensorFusionGlobals::pSensors</a>, <a class="el" href="sensor__fusion_8h_source.html#l00553">SensorFusionGlobals::setStatus</a>, <a class="el" href="orientaion__application__baremetal__agm01_8c_source.html#l00089">sfg</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00134">SOFT_FAULT</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00481">initializeFusionEngine()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_cgraph.png" border="0" usemap="#sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_cgraph" alt=""/></div>
<map name="sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_cgraph" id="sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_cgraph">
<area shape="rect" id="node2" href="hal__frdm__fxs__mult2__b_8c.html#afe116134dc1e5109171e81bab6c2afd8" title="Apply the accelerometer Hardware Abstraction Layer. " alt="" coords="180,5,293,32"/>
<area shape="rect" id="node3" href="precision_accelerometer_8c.html#a3aa550d5d9b592df3fd8b10c97c07d98" title="function maps the accelerometer data fGs (g) onto precision calibrated and de&#45;rotated data fGc (g)..." alt="" coords="183,56,290,83"/>
<area shape="rect" id="node4" href="precision_accelerometer_8c.html#a012ad7adb564defb7170c246cdb86b04" title="Update the buffer used to store samples used for accelerometer calibration. " alt="" coords="171,107,303,133"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_icgraph.png" border="0" usemap="#sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_icgraph" id="sensor__fusion_8c_ae748e1330b5a94783c6d4ea2ad9e4f28_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8c.html#ab088da7731ffdf25710a364a7f88b224" title="initializeFusionEngine" alt="" coords="171,5,319,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a43b44018042fabb5179c2e62277cc942"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initSensorFusionGlobals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_status_subsystem.html">StatusSubsystem</a> *&#160;</td>
          <td class="paramname"><em>pStatusSubsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_control_subsystem.html">ControlSubsystem</a> *&#160;</td>
          <td class="paramname"><em>pControlSubsystem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>utility function to insert default values in the top level structure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sfg</td><td>Global data structure pointer </td></tr>
    <tr><td class="paramname">pStatusSubsystem</td><td>Status subsystem pointer </td></tr>
    <tr><td class="paramname">pControlSubsystem</td><td>Control subsystem pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00073">73</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00548">SensorFusionGlobals::applyPerturbation</a>, <a class="el" href="sensor__fusion_8h_source.html#l00635">ApplyPerturbation</a>, <a class="el" href="sensor__fusion_8c_source.html#l00373">clearFIFOs()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00552">SensorFusionGlobals::clearFIFOs</a>, <a class="el" href="sensor__fusion_8c_source.html#l00315">conditionSensorReadings()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00551">SensorFusionGlobals::conditionSensorReadings</a>, <a class="el" href="standard__build_8h_source.html#l00072">F_1DOF_P_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00074">F_3DOF_B_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00073">F_3DOF_G_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00075">F_3DOF_Y_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00076">F_6DOF_GB_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00077">F_6DOF_GY_KALMAN</a>, <a class="el" href="standard__build_8h_source.html#l00078">F_9DOF_GBY_KALMAN</a>, <a class="el" href="standard__build_8h_source.html#l00065">F_ALL_SENSORS</a>, <a class="el" href="standard__build_8h_source.html#l00060">F_USING_ACCEL</a>, <a class="el" href="standard__build_8h_source.html#l00062">F_USING_GYRO</a>, <a class="el" href="magnetic_8h_source.html#l00043">F_USING_MAG</a>, <a class="el" href="standard__build_8h_source.html#l00063">F_USING_PRESSURE</a>, <a class="el" href="standard__build_8h_source.html#l00064">F_USING_TEMPERATURE</a>, <a class="el" href="sensor__fusion_8h_source.html#l00489">SensorFusionGlobals::iFlags</a>, <a class="el" href="sensor__fusion_8c_source.html#l00481">initializeFusionEngine()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00547">SensorFusionGlobals::initializeFusionEngine</a>, <a class="el" href="sensor__fusion_8c_source.html#l00127">installSensor()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00546">SensorFusionGlobals::installSensor</a>, <a class="el" href="sensor__fusion_8h_source.html#l00491">SensorFusionGlobals::iPerturbation</a>, <a class="el" href="sensor__fusion_8h_source.html#l00238">MagSensor::iWhoAmI</a>, <a class="el" href="sensor__fusion_8h_source.html#l00493">SensorFusionGlobals::loopcounter</a>, <a class="el" href="sensor__fusion_8h_source.html#l00511">SensorFusionGlobals::Mag</a>, <a class="el" href="sensor__fusion_8h_source.html#l00484">SensorFusionGlobals::pControlSubsystem</a>, <a class="el" href="sensor__fusion_8h_source.html#l00490">SensorFusionGlobals::pSensors</a>, <a class="el" href="sensor__fusion_8h_source.html#l00485">SensorFusionGlobals::pStatusSubsystem</a>, <a class="el" href="sensor__fusion_8c_source.html#l00055">queueStatus()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00554">SensorFusionGlobals::queueStatus</a>, <a class="el" href="sensor__fusion_8c_source.html#l00286">readSensors()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00549">SensorFusionGlobals::readSensors</a>, <a class="el" href="sensor__fusion_8c_source.html#l00396">runFusion()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00550">SensorFusionGlobals::runFusion</a>, <a class="el" href="sensor__fusion_8c_source.html#l00048">setStatus()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00553">SensorFusionGlobals::setStatus</a>, <a class="el" href="sensor__fusion_8h_source.html#l00494">SensorFusionGlobals::systick_I2C</a>, <a class="el" href="sensor__fusion_8h_source.html#l00495">SensorFusionGlobals::systick_Spare</a>, <a class="el" href="sensor__fusion_8c_source.html#l00067">testStatus()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00556">SensorFusionGlobals::testStatus</a>, <a class="el" href="sensor__fusion_8c_source.html#l00062">updateStatus()</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00555">SensorFusionGlobals::updateStatus</a>.</p>

<p>Referenced by <a class="el" href="main__agm01__freertos__two__tasks_8c_source.html#l00081">main()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_cgraph.png" border="0" usemap="#sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_cgraph" alt=""/></div>
<map name="sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_cgraph" id="sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_cgraph">
<area shape="rect" id="node2" href="sensor__fusion_8c.html#a9af8710b3e87acd2a33e7988b2d75b6c" title="Function to clear FIFO at the end of each fusion computation. " alt="" coords="433,92,520,119"/>
<area shape="rect" id="node3" href="sensor__fusion_8c.html#aef2b1f23f820d2b513bc827f8baffd0d" title="conditionSensorReadings" alt="" coords="216,41,385,68"/>
<area shape="rect" id="node4" href="sensor__fusion_8c.html#ab088da7731ffdf25710a364a7f88b224" title="initializeFusionEngine" alt="" coords="227,92,375,119"/>
<area shape="rect" id="node5" href="sensor__fusion_8c.html#ad86ade0d4a34861b6a7bb0d232fb8e0c" title="installSensor" alt="" coords="252,143,349,169"/>
<area shape="rect" id="node6" href="sensor__fusion_8c.html#ae96e36747e6a1aabbec1381f15132ec6" title="queueStatus" alt="" coords="253,193,348,220"/>
<area shape="rect" id="node7" href="sensor__fusion_8c.html#a0d688188b65f43d38ac760a79d9eb116" title="readSensors" alt="" coords="253,244,348,271"/>
<area shape="rect" id="node8" href="sensor__fusion_8c.html#a8b90119fee979d0309cc923bf1fad543" title="runFusion" alt="" coords="261,295,340,321"/>
<area shape="rect" id="node9" href="sensor__fusion_8c.html#a741fd2193cc58c09b692d1ae2b7a81e8" title="setStatus" alt="" coords="261,345,340,372"/>
<area shape="rect" id="node10" href="sensor__fusion_8c.html#a142a0a30c123f8acf79a3e8e5072cad8" title="testStatus" alt="" coords="259,396,342,423"/>
<area shape="rect" id="node11" href="sensor__fusion_8c.html#aa13c4a9f07f3a2abfdb2e0808e5752d4" title="updateStatus" alt="" coords="251,447,350,473"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_icgraph.png" border="0" usemap="#sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_icgraph" id="sensor__fusion_8c_a43b44018042fabb5179c2e62277cc942_icgraph">
<area shape="rect" id="node2" href="main__agm01__freertos__two__tasks_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is a FreeRTOS (dual task) implementation of the NXP sensor fusion demo build. " alt="" coords="216,5,267,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad86ade0d4a34861b6a7bb0d232fb8e0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t installSensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_physical_sensor.html">PhysicalSensor</a> *&#160;</td>
          <td class="paramname"><em>pSensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>schedule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>bus_driver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structregister_device_info__t.html">registerDeviceInfo_t</a> *&#160;</td>
          <td class="paramname"><em>busInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sensor__fusion_8h.html#a94a511080fe3acc46bcee1a85f25432c">initializeSensor_t</a> *&#160;</td>
          <td class="paramname"><em>initialize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sensor__fusion_8h.html#a2c12de378ddfbb05f2f9549b62eddb87">readSensor_t</a> *&#160;</td>
          <td class="paramname"><em>read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>installSensor is used to instantiate a physical sensor driver into the sensor fusion system. This function is normally involved via the "sfg." global pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sfg</td><td>top level fusion structure </td></tr>
    <tr><td class="paramname">pSensor</td><td>pointer to structure describing physical sensor </td></tr>
    <tr><td class="paramname">addr</td><td>I2C address for sensor (if applicable) </td></tr>
    <tr><td class="paramname">schedule</td><td>Parameter to control sensor sampling rate </td></tr>
    <tr><td class="paramname">bus_driver</td><td>ISSDK sensor bus driver (usually KSDK I2C bus) </td></tr>
    <tr><td class="paramname">busInfo</td><td>information required for bus power management </td></tr>
    <tr><td class="paramname">initialize</td><td>pointer to sensor initialization function </td></tr>
    <tr><td class="paramname">read</td><td>pointer to sensor read function </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00127">127</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00181">PhysicalSensor::addr</a>, <a class="el" href="sensor__fusion_8h_source.html#l00179">PhysicalSensor::bus_driver</a>, <a class="el" href="sensor__fusion_8h_source.html#l00178">PhysicalSensor::deviceInfo</a>, <a class="el" href="sensor__drv_8h_source.html#l00125">registerDeviceInfo_t::deviceInstance</a>, <a class="el" href="sensor__drv_8h_source.html#l00124">registerDeviceInfo_t::functionParam</a>, <a class="el" href="sensor__drv_8h_source.html#l00123">registerDeviceInfo_t::idleFunction</a>, <a class="el" href="sensor__fusion_8h_source.html#l00186">PhysicalSensor::initialize</a>, <a class="el" href="sensor__fusion_8h_source.html#l00184">PhysicalSensor::next</a>, <a class="el" href="register__io__spi_8h_source.html#l00070">spiSlaveSpecificParams_t::pReadPreprocessFN</a>, <a class="el" href="sensor__fusion_8h_source.html#l00490">SensorFusionGlobals::pSensors</a>, <a class="el" href="register__io__spi_8h_source.html#l00072">spiSlaveSpecificParams_t::pTargetSlavePinID</a>, <a class="el" href="register__io__spi_8h_source.html#l00071">spiSlaveSpecificParams_t::pWritePreprocessFN</a>, <a class="el" href="sensor__fusion_8h_source.html#l00187">PhysicalSensor::read</a>, <a class="el" href="sensor__fusion_8h_source.html#l00185">PhysicalSensor::schedule</a>, <a class="el" href="sensor__fusion_8h_source.html#l00183">PhysicalSensor::slaveParams</a>, <a class="el" href="register__io__spi_8h_source.html#l00073">spiSlaveSpecificParams_t::spiCmdLen</a>, and <a class="el" href="register__io__spi_8h_source.html#l00074">spiSlaveSpecificParams_t::ssActiveValue</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_ad86ade0d4a34861b6a7bb0d232fb8e0c_icgraph.png" border="0" usemap="#sensor__fusion_8c_ad86ade0d4a34861b6a7bb0d232fb8e0c_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_ad86ade0d4a34861b6a7bb0d232fb8e0c_icgraph" id="sensor__fusion_8c_ad86ade0d4a34861b6a7bb0d232fb8e0c_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="151,5,313,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaf8b47198fa614f0b50265addf44a8b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processMagData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00219">219</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="hal__frdm__fxs__mult2__b_8c_source.html#l00099">ApplyGyroHAL()</a>, <a class="el" href="hal__frdm__fxs__mult2__b_8c_source.html#l00071">ApplyMagHAL()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00082">CHX</a>, <a class="el" href="sensor__fusion_8h_source.html#l00084">CHZ</a>, <a class="el" href="sensor__fusion_8h_source.html#l00244">MagSensor::fBs</a>, <a class="el" href="magnetic_8c_source.html#l00307">fInvertMagCal()</a>, <a class="el" href="magnetic_8c_source.html#l00335">fRunMagCalibration()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00246">MagSensor::fuTPerCount</a>, <a class="el" href="sensor__fusion_8h_source.html#l00248">MagSensor::iBs</a>, <a class="el" href="sensor__fusion_8h_source.html#l00242">MagSensor::iBsFIFO</a>, <a class="el" href="sensor__fusion_8h_source.html#l00240">MagSensor::iFIFOCount</a>, <a class="el" href="sensor__fusion_8h_source.html#l00241">MagSensor::iFIFOExceeded</a>, <a class="el" href="magnetic_8h_source.html#l00105">MagCalibration::iMagBufferReadOnly</a>, <a class="el" href="magnetic_8c_source.html#l00113">iUpdateMagBuffer()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00493">SensorFusionGlobals::loopcounter</a>, <a class="el" href="sensor__fusion_8h_source.html#l00511">SensorFusionGlobals::Mag</a>, <a class="el" href="sensor__fusion_8h_source.html#l00513">SensorFusionGlobals::MagBuffer</a>, <a class="el" href="sensor__fusion_8h_source.html#l00512">SensorFusionGlobals::MagCal</a>, <a class="el" href="sensor__fusion_8h_source.html#l00553">SensorFusionGlobals::setStatus</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00134">SOFT_FAULT</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00315">conditionSensorReadings()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_cgraph.png" border="0" usemap="#sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_cgraph" alt=""/></div>
<map name="sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_cgraph" id="sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_cgraph">
<area shape="rect" id="node2" href="hal__frdm__fxs__mult2__b_8c.html#a9ef1a7ef89f75f9436eb6a121a1a1a66" title="Apply the gyroscope Hardware Abstraction Layer. " alt="" coords="187,5,295,32"/>
<area shape="rect" id="node3" href="hal__frdm__fxs__mult2__b_8c.html#a706bba14747c3d73c6f2bb2e95b7d558" title="Apply the magnetometer Hardware Abstraction Layer. " alt="" coords="188,56,293,83"/>
<area shape="rect" id="node4" href="magnetic_8c.html#abacd9fe3cfe05856161328f5287d85b3" title="fInvertMagCal" alt="" coords="191,107,290,133"/>
<area shape="rect" id="node5" href="magnetic_8c.html#a743805eb2d7ae760f4f8b400c54433f1" title="fRunMagCalibration" alt="" coords="173,157,308,184"/>
<area shape="rect" id="node6" href="magnetic_8c.html#aac82602dcfcd55bfc84365b49fefedf0" title="iUpdateMagBuffer" alt="" coords="179,208,303,235"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_icgraph.png" border="0" usemap="#sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_icgraph" id="sensor__fusion_8c_aaf8b47198fa614f0b50265addf44a8b0_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#aef2b1f23f820d2b513bc827f8baffd0d" title="conditionSensorReadings" alt="" coords="173,5,343,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae96e36747e6a1aabbec1381f15132ec6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void queueStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sensor__fusion_8h.html#a69ee883e1c22b117df163c0bd83f66dd">fusion_status_t</a>&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Poor man's inheritance for status subsystem queueStatus command. This function is normally involved via the "sfg." global pointer. </p>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00055">55</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00485">SensorFusionGlobals::pStatusSubsystem</a>, and <a class="el" href="status_8h_source.html#l00051">StatusSubsystem::queue</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_ae96e36747e6a1aabbec1381f15132ec6_icgraph.png" border="0" usemap="#sensor__fusion_8c_ae96e36747e6a1aabbec1381f15132ec6_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_ae96e36747e6a1aabbec1381f15132ec6_icgraph" id="sensor__fusion_8c_ae96e36747e6a1aabbec1381f15132ec6_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="148,5,311,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0d688188b65f43d38ac760a79d9eb116"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t readSensors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>read_loop_counter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>readSensors traverses the linked list of physical sensors, calling the individual read functions one by one. This function is normally involved via the "sfg." global pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sfg</td><td>pointer to global sensor fusion data structure </td></tr>
    <tr><td class="paramname">read_loop_counter</td><td>current loop counter (used for multirate processing) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00286">286</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00133">HARD_FAULT</a>, <a class="el" href="sensor__fusion_8h_source.html#l00182">PhysicalSensor::isInitialized</a>, <a class="el" href="sensor__fusion_8h_source.html#l00184">PhysicalSensor::next</a>, <a class="el" href="sensor__fusion_8h_source.html#l00490">SensorFusionGlobals::pSensors</a>, <a class="el" href="sensor__fusion_8h_source.html#l00187">PhysicalSensor::read</a>, <a class="el" href="sensor__fusion_8h_source.html#l00185">PhysicalSensor::schedule</a>, <a class="el" href="sensor__drv_8h_source.html#l00058">SENSOR_ERROR_INIT</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00553">SensorFusionGlobals::setStatus</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a0d688188b65f43d38ac760a79d9eb116_icgraph.png" border="0" usemap="#sensor__fusion_8c_a0d688188b65f43d38ac760a79d9eb116_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_a0d688188b65f43d38ac760a79d9eb116_icgraph" id="sensor__fusion_8c_a0d688188b65f43d38ac760a79d9eb116_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="148,5,311,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b90119fee979d0309cc923bf1fad543"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void runFusion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>runFusion the top level call that actually runs the sensor fusion. This is a utility function which manages the various defines in build.h. You should feel free to drop down a level and implement only those portions of <a class="el" href="fusion_8c.html#aeb60375528d75ee9fec67a96916141ca">fFuseSensors()</a> that your application needs. This function is normally involved via the "sfg." global pointer. </p>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00396">396</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8c_source.html#l00373">clearFIFOs()</a>, <a class="el" href="fusion_8c_source.html#l00090">fFuseSensors()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00511">SensorFusionGlobals::Mag</a>, and <a class="el" href="sensor__fusion_8h_source.html#l00512">SensorFusionGlobals::MagCal</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_cgraph.png" border="0" usemap="#sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_cgraph" alt=""/></div>
<map name="sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_cgraph" id="sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_cgraph">
<area shape="rect" id="node2" href="sensor__fusion_8c.html#a9af8710b3e87acd2a33e7988b2d75b6c" title="Function to clear FIFO at the end of each fusion computation. " alt="" coords="140,5,227,32"/>
<area shape="rect" id="node3" href="fusion_8c.html#aeb60375528d75ee9fec67a96916141ca" title="fFuseSensors" alt="" coords="132,56,235,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_icgraph.png" border="0" usemap="#sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_icgraph" id="sensor__fusion_8c_a8b90119fee979d0309cc923bf1fad543_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="132,5,295,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a741fd2193cc58c09b692d1ae2b7a81e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sensor__fusion_8h.html#a69ee883e1c22b117df163c0bd83f66dd">fusion_status_t</a>&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Poor man's inheritance for status subsystem setStatus command This function is normally involved via the "sfg." global pointer. </p>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00048">48</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00485">SensorFusionGlobals::pStatusSubsystem</a>, and <a class="el" href="status_8h_source.html#l00050">StatusSubsystem::set</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a741fd2193cc58c09b692d1ae2b7a81e8_icgraph.png" border="0" usemap="#sensor__fusion_8c_a741fd2193cc58c09b692d1ae2b7a81e8_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_a741fd2193cc58c09b692d1ae2b7a81e8_icgraph" id="sensor__fusion_8c_a741fd2193cc58c09b692d1ae2b7a81e8_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="132,5,295,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a142a0a30c123f8acf79a3e8e5072cad8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void testStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00067">67</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00485">SensorFusionGlobals::pStatusSubsystem</a>, and <a class="el" href="status_8h_source.html#l00053">StatusSubsystem::test</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_a142a0a30c123f8acf79a3e8e5072cad8_icgraph.png" border="0" usemap="#sensor__fusion_8c_a142a0a30c123f8acf79a3e8e5072cad8_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_a142a0a30c123f8acf79a3e8e5072cad8_icgraph" id="sensor__fusion_8c_a142a0a30c123f8acf79a3e8e5072cad8_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="136,5,299,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa13c4a9f07f3a2abfdb2e0808e5752d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Poor man's inheritance for status subsystem updateStatus command. This function is normally involved via the "sfg." global pointer. </p>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00062">62</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00485">SensorFusionGlobals::pStatusSubsystem</a>, and <a class="el" href="status_8h_source.html#l00052">StatusSubsystem::update</a>.</p>

<p>Referenced by <a class="el" href="sensor__fusion_8c_source.html#l00073">initSensorFusionGlobals()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sensor__fusion_8c_aa13c4a9f07f3a2abfdb2e0808e5752d4_icgraph.png" border="0" usemap="#sensor__fusion_8c_aa13c4a9f07f3a2abfdb2e0808e5752d4_icgraph" alt=""/></div>
<map name="sensor__fusion_8c_aa13c4a9f07f3a2abfdb2e0808e5752d4_icgraph" id="sensor__fusion_8c_aa13c4a9f07f3a2abfdb2e0808e5752d4_icgraph">
<area shape="rect" id="node2" href="sensor__fusion_8h.html#a367d92b99365a8143700b76439915d65" title="utility function to insert default values in the top level structure " alt="" coords="152,5,315,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac57932c39d665755aeee1e62fac763e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zeroArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_status_subsystem.html">StatusSubsystem</a> *&#160;</td>
          <td class="paramname"><em>pStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>numElements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pStatus</td><td>Status subsystem pointer </td></tr>
    <tr><td class="paramname">data</td><td>pointer to array to be zeroed </td></tr>
    <tr><td class="paramname">size</td><td>data type size = 8, 16 or 32 </td></tr>
    <tr><td class="paramname">numElements</td><td>number of elements to zero out </td></tr>
    <tr><td class="paramname">check</td><td>true if you would like to verify writes, false otherwise </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sensor__fusion_8c_source.html#l00330">330</a> of file <a class="el" href="sensor__fusion_8c_source.html">sensor_fusion.c</a>.</p>

<p>References <a class="el" href="sensor__fusion_8h_source.html#l00133">HARD_FAULT</a>, and <a class="el" href="status_8h_source.html#l00050">StatusSubsystem::set</a>.</p>

</div>
</div>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
&copy; Freescale Semiconductor, Inc. 2016-2017. All Rights Reserved.
</small></address>
</body>
</html>
