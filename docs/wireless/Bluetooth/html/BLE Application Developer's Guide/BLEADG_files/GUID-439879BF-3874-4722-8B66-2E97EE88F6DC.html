<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="GATT database configuration"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8EEFD2B9-C495-40B9-9463-946DB71D9A30.html"/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content=""/>
<meta name="DC.Publisher" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-439879BF-3874-4722-8B66-2E97EE88F6DC"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>GATT database configuration</title>
</head>
<body id="GUID-439879BF-3874-4722-8B66-2E97EE88F6DC">


    <h1 class="title topictitle1">GATT database configuration</h1>

    <div class="body">
        <p class="p">The GATT Database always resides on the same processor as the entire BLE Host Stack, so
            the attributes must be added by the host application using the serial communication
            interface. </p>

        <p class="p">To create a GATT Database remotely, <em class="ph i">GATTDBDynamic</em> commands must be used. The
            GATTDBDynamic API is provided to the user that performs all the required memory
            allocations and sends the FSCI commands to the blackbox. The result of the operation is
            returned, including optionally the service, characteristic and cccd handles returned by
            the blackbox.</p>

        <p class="p">Current supported API for adding services is the following:</p>

        <pre class="pre codeblock">bleResult_t<strong class="ph b">GattDbDynamic_AddGattService</strong>(gattServiceHandles_t* pOutServiceHandles);
bleResult_t<strong class="ph b">GattDbDynamic_AddGapService</strong>(gapServiceHandles_t* pOutServiceHandles);
bleResult_t<strong class="ph b">GattDbDynamic_AddIpssService</strong>(ipssServiceHandles_t* pOutServiceHandles);
bleResult_t<strong class="ph b">GattDbDynamic_AddHeartRateService</strong>(heartRateServiceHandles_t* pOutServiceHandles);
bleResult_t<strong class="ph b">GattDbDynamic_AddBatteryService</strong>(batteryServiceHandles_t* pOutServiceHandles);
bleResult_t<strong class="ph b">GattDbDynamic_AddDeviceInformationService</strong>(deviceInfoServiceHandles_t* pOutServiceHandles);</pre>

        <p class="p">The service handles are optional.</p>

        <p class="p">Also, a generic function is provided, so that the user can add any generic service to the
            database:</p>

        <pre class="pre codeblock">bleResult_t <strong class="ph b">GattDbDynamic_AddServiceInDatabase</strong>(serviceInfo_t* pServiceInfo);</pre>

        <p class="p">Usually, a BLE Application is going to be ported from a single chip solution, where the
            BLE App and the BLE stack reside on the same processor and the GATT database is
            populated statically. The user will need to remove all the attribute handles from any
            structure and replace them with <em class="ph i">gGattDbInvalidHandle_d </em>and then populate them
            after the services are added dynamically to the database with the handles returned by
            the previous API.</p>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-8EEFD2B9-C495-40B9-9463-946DB71D9A30.html">Creating a BLE Application When the BLE Host Stack is Running on Another Processor</a></div>
</div>
</div>

</body>
</html>