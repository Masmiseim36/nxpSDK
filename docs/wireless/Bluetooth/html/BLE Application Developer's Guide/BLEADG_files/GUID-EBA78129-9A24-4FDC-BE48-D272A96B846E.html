<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Image chunk command"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F67FF9FB-8021-4C91-8D9E-24DE7A9CF6B8.html"/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content=""/>
<meta name="DC.Publisher" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-EBA78129-9A24-4FDC-BE48-D272A96B846E"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Image chunk command</title>
</head>
<body id="GUID-EBA78129-9A24-4FDC-BE48-D272A96B846E">


    <h1 class="title topictitle1">Image chunk command</h1>

    <div class="body">
        <p class="p">One or more Image Chunk Commands are sent from the OTAP Server to the OTAP Client after
            an Image Block Request is received by the former. The image chunks are sent via the ATT
            Write Without Response mechanism if the ATT transfer method is chosen and directly via
            L2CAP if the L2CAP PSM CoC transfer method is chosen.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-EBA78129-9A24-4FDC-BE48-D272A96B846E__TABLE_MLG_5PM_CY" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1. Image Chunk Command Parameters</span></caption>
                
                
                
                
                
                
                
                <tbody class="tbody">
                    <tr class="row">
                        <td class="entry" valign="top">CmdId</td>

                        <td class="entry" valign="top">Name</td>

                        <td class="entry" valign="top">Dir</td>

                        <td class="entry" valign="top">Parameters</td>

                        <td class="entry" valign="top">
                            <p class="p">Param Size</p>

                            <p class="p"> (Bytes)</p>

                        </td>

                        <td class="entry" valign="top">Description</td>

                        <td class="entry" valign="top">Total Size (CmdId+Payload)</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" rowspan="2" valign="top">0x05</td>

                        <td class="entry" rowspan="2" valign="top">Image Chunk</td>

                        <td class="entry" rowspan="2" valign="top">S-&gt;C</td>

                        <td class="entry" valign="top">SeqNumber</td>

                        <td class="entry" valign="top">1</td>

                        <td class="entry" valign="top">
                            <p class="p">In the range 0 -&gt; BlockSize/ChunkSize - calculated by Server,
                                checked by Client.</p>

                            <p class="p"> The command code is present even when ATT is used.</p>

                        </td>

                        <td class="entry" rowspan="2" valign="top">
                            <p class="p">3</p>

                            <p class="p"> or more</p>

                        </td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top">Data</td>

                        <td class="entry" valign="top">var.</td>

                        <td class="entry" valign="top">Actual data.</td>

                    </tr>

                </tbody>

            </table>
</div>

        <p class="p">The <em class="ph i">SeqNumber</em> parameter is the chunk sequence number and it has incremental values
            from 0 to 255 (0x00 to 0x FF) for a maximum of 256 chunks per block.</p>

        <p class="p">The <em class="ph i">Data</em> parameter is an array containing the actual image part being transferred
            starting from the <em class="ph i">BlockStartPosition + SeqNumber * </em><em class="ph i">ChunkSize </em>position in
            the image file and containing <em class="ph i">ChunkSize</em> or less bytes depending on the position
            in the block. Only the last chunk in a block can have less than <em class="ph i">ChunkSize </em>bytes
            in the Image Chunk Command data payload.</p>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-F67FF9FB-8021-4C91-8D9E-24DE7A9CF6B8.html">BLE OTAP commands</a></div>
</div>
</div>

</body>
</html>