<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Peripheral Setup"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9B9D3FC2-3AD0-412D-8B81-B354EA096754.html"/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content=""/>
<meta name="DC.Publisher" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-288FC53A-781A-426D-80C2-BA96C463B956"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Peripheral Setup</title>
</head>
<body id="GUID-288FC53A-781A-426D-80C2-BA96C463B956">


    <h1 class="title topictitle1">Peripheral Setup</h1>

    <div class="body">
        <div class="p">
            <ol class="ol">
                <li class="li">First set the extended advertising parameters using Gap_SetExtAdvertisingParameters. The extended advertising type must be set to non-connectable and non-scannable.</li>

                <li class="li">Set the periodic advertising parameters using the same handle as in the previous
                    command.
                    <pre class="pre codeblock">bleResult_t Gap_SetPeriodicAdvParameters
(     
    gapPeriodicAdvParameters_t*    pAdvertisingParameters 
);</pre>
Wait
                    for a <em class="ph i">gPeriodicAdvParamSetupComplete_c</em>event in the generic callback.</li>

                <li class="li">Next, set the periodic advertising data by
                        calling:<pre class="pre codeblock">bleResult_t Gap_SetPeriodicAdvertisingData
(
    uint8_t                      handle,
    gapAdvertisingData_t*        pAdvertisingData
);</pre>
<em class="ph i">pAdvertisingData</em>
                    cannot be NULL. If periodic advertising data must be empty, set
                        <em class="ph i">cNumAdStructures</em> to 0. Wait for a <em class="ph i">gPeriodicAdvDataSetupComplete_c
                    </em>event in the generic callback.</li>

                <li class="li">Start extended advertising using Gap_StartExtAdvertising. </li>

                <li class="li">Last, enable Periodic Advertising. Periodic advertising will start only after
                    extended advertising is
                        started.<pre class="pre codeblock">bleResult_t Gap_StartPeriodicAdvertising
(
    uint8_t handle
);</pre>
<p class="p">Wait
                        for a <em class="ph i">gPeriodicAdvertisingStateChanged_c </em>event in the advertising
                        callback.</p>
</li>

            </ol>

        </div>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-9B9D3FC2-3AD0-412D-8B81-B354EA096754.html">Periodic Advertising (KW37)</a></div>
</div>
</div>

</body>
</html>