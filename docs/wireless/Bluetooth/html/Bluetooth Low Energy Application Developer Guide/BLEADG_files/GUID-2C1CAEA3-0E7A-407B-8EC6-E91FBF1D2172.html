<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Secured OTAP bootloader"/>
<meta name="DC.Relation" scheme="URI" content="GUID-53C35DEE-9212-4685-BF1E-7B66CB5A3860.html"/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content=""/>
<meta name="DC.Publisher" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2C1CAEA3-0E7A-407B-8EC6-E91FBF1D2172"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Secured OTAP bootloader</title>
</head>
<body id="GUID-2C1CAEA3-0E7A-407B-8EC6-E91FBF1D2172">


    <h1 class="title topictitle1">Secured OTAP bootloader</h1>

    <div class="body">
        <p class="p">The security features of the FRDM-K32W042 enable it to use secured OTAP. A different
            bootloader is used in this case. The image that arrives over-the-air is encrypted and
            signed using a certificate. The bootloader uses repeated calls the KBOOT API located in
            ROM to authenticate and decrypt the image before performing the update.</p>

        <p class="p">The OTAP bootloader project and source code can be found in the
            \boards\frdmk32w042\wireless_examples\framework\bootloader_otap folder.</p>

        <div class="p">There are a few small differences between the secured and unsecured OTAP bootloaders. The
            memory layout for the FRDM-K32W042 differs slightly from the other boards.
            <div class="fig fignone"><span class="figcap">Figure 1. Secure OTAP bootloader</span><img class="image" src="GUID-8F7C33BC-C16E-411E-9690-01BE5ACBF6DB-high.png" height="344" width="358"/></div>

        </div>

              <p class="p">The OTAP Bootloader occupies the first part of the flash memory, just as in the case of
            unsecured OTAP. However, in this case the boot flags immediately follow and have their
            own allocated sector. The application residing on the Cortex-M4 core is in M4’s flash
            and the application residing on the Cortex-M0+ core is located in M0’s flash. The OTAP
            process allows the user to update only one of them or both.</p>

        <p class="p">The BOOT_FLAGS section includes additional information for FRDM-K32W042:</p>

        <ul class="ul" id="GUID-2C1CAEA3-0E7A-407B-8EC6-E91FBF1D2172__UL_QLR_B1J_FHB">
            <li class="li">A 32-byte default Secured Boot Key Encryption Key (SBKEK) which is written by the
                application after the image has been received over-the-air and read by the
                bootloader before starting the update process. For more details see the
                BLEDAUG.</li>

            <li class="li">A 12-byte magic word used to identify the BOOT_FLAGS sector. This magic word is
                required by Test Tool since the BOOT_FLAGS sector is trimmed from the *.bin file
                before building the secured image and it must be properly identified.</li>

        </ul>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-53C35DEE-9212-4685-BF1E-7B66CB5A3860.html">Over the Air Programming (OTAP)</a></div>
</div>
</div>

</body>
</html>