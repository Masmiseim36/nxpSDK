<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Introduction"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1AA5AF7A-2112-4F33-914F-4420E9810D4D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7FD67C20-B371-4688-9851-FBBFFFF19208.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-35B15882-8AFD-42AC-A9A2-BCDEF8BDF182.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-35E82D55-6500-41BC-89A9-4D5F8F97FA8C.html"/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content=""/>
<meta name="DC.Publisher" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-7E8FE119-763D-458E-BA9D-F0F4F9EB6228"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Introduction</title>
</head>
<body id="GUID-7E8FE119-763D-458E-BA9D-F0F4F9EB6228">


    <h1 class="title topictitle1">Introduction</h1>

    <div class="body">
        <p class="p">Starting with Bluetooth 4.2,Privacy can be enabled either in the Host or in the Controller:</p>

        <ul class="ul" id="GUID-7E8FE119-763D-458E-BA9D-F0F4F9EB6228__UL_TKX_DLB_BY">
            <li class="li"><strong class="ph b">Host Privacy</strong> consists of:<ul class="ul" id="GUID-7E8FE119-763D-458E-BA9D-F0F4F9EB6228__UL_ILX_DDLB_BY">
                    <li class="li">Random address generation - Periodically regenerating a random
                        address (Resolvable or Non-Resolvable Private Address) inside the Host and
                        the applying it into the Controller.</li>

                    <li class="li">Random address resolution - Try to resolve incoming RPAs using the IRKs
                        stored in the bonded devices list. The address resolution is performed when
                        a connection is established with a device or for the auto-connect scan. The
                        advertising packets that have an RPA will not be resolved automatically due
                        to the high MCU processing that will require. Each of the use cases will be
                        detailed in the following sections. <p class="p">The random address resolution is
                            performed by default by the Host whenever the Controller was not able to
                            resolve an RPA. The random address generation is performed by the Host
                            only when Host Privacy is requested to be enabled. </p>
</li>

                </ul>
    
            
            </li>

            <li class="li"><strong class="ph b">Controller Privacy</strong>, introduced by Bluetooth 4.2, consists of
                writing the local IRK in the Controller, together with all known peer IRKs, and
                letting the Controller perform hardware, fully automatic RPA generation and resolution. The Controller uses a Resolving List to store these
                entries and the size of the list is platform dependent, given by
                gMaxResolvingListSize_c. For RPA resolution, the entries that do not fit in this
                list will be processed by the Host to be resolved using the IRKs from bonded devices
                list.</li>

        </ul>

        <p class="p">Either Host Privacy or Controller Privacy can be enabled at any time. Trying
            to enable one while the other is in progress generates a <em class="ph i">gBleInvalidState_c</em>
            error. The same error is returned when trying to enable the same privacy type twice, or
            when trying to disable privacy when it is not enabled. </p>

        <div class="p">The recommended way of using Privacy is the Controller
            Privacy. However, enabling Controller Privacy requires at least a pair of local IRK and
            peer IRK, so this can only be enabled only after a pairing is performed with a peer and
            the IRKs are exchanged during the Key Distribution phase. When a device starts, if
            Privacy is required the workflow is the following: <ol class="ol"><li class="li">Enable Host Privacy using the local IRK.</li>

                <li class="li">Connect to a peer and perform pairing and bonding to exchange IRKs.</li>

                <li class="li">Disable Host Privacy.</li>

                <li class="li">Enable Controller Privacy using the local IRK and the peer IRK and peer identity
                    address.</li>
</ol>
</div>

    </div>

<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="GUID-7FD67C20-B371-4688-9851-FBBFFFF19208.html">Resolvable private addresses</a></strong><br/>
</li>
<li class="link ulchildlink"><strong><a href="GUID-35B15882-8AFD-42AC-A9A2-BCDEF8BDF182.html">Non-resolvable private addresses</a></strong><br/>
</li>
<li class="link ulchildlink"><strong><a href="GUID-35E82D55-6500-41BC-89A9-4D5F8F97FA8C.html">Multiple identity resolving keys</a></strong><br/>
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-1AA5AF7A-2112-4F33-914F-4420E9810D4D.html">Privacy feature</a></div>
</div>
</div>

</body>
</html>