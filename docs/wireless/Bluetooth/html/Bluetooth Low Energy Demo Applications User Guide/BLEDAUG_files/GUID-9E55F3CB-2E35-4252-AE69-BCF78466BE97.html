<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Building the image files"/>
<meta name="DC.Relation" scheme="URI" content="GUID-267A161F-8693-4A2D-B892-DA44D4673EEE.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9E55F3CB-2E35-4252-AE69-BCF78466BE97"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Building the image files</title>
</head>
<body id="GUID-9E55F3CB-2E35-4252-AE69-BCF78466BE97">


    <h1 class="title topictitle1">Building the image files</h1>

    <div class="body">
        <p class="p">The image files (*.bin or *.srec) are obtained as described in section 5.19.4, with few
            small differences:</p>

        <ul class="ul">
            <li class="li">When building with IAR EW, two image files are obtained, one for the *_cm4 project
                containing only the M4 image and one for the *_cm0p project containing only the M0+
                image.</li>

            <li class="li">When building with MCUXpresso IDE, a single image file is obtained,
                containing both the M4 and M0+ images. However, this image file is not generated by
                default. Refer to section 5.19.4 for how to change the post-build steps to generate
                a .bin or .srec file. In addition, when generating a .bin file the
                arm-none-eabi-objcopy command must include “—gap-fill=0xFF” as an additional
                argument. This reduces the size of the image that ends up being transferred OTA
                since unused sections filled with 0xFF will be trimmed by Test Tool. To recap, when
                generating a .bin file the command should look like this:
                <pre class="pre codeblock">arm-none-eabi-objcopy -v -O binary –gap-fill=0xFF "${BuildArtifactFileName}" "${BuildArtifactFileBaseName}.bin"</pre>
</li>

       
        <li class="li"> When generating a .srec file the command should be:
            <pre class="pre codeblock">arm-none-eabi-objcopy -v -O srec "${BuildArtifactFileName}" "${BuildArtifactFileBaseName}.srec"</pre>

        </li>
 </ul>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-267A161F-8693-4A2D-B892-DA44D4673EEE.html">Notes on multicore platforms and secured OTAP</a></div>
</div>
</div>

</body>
</html>