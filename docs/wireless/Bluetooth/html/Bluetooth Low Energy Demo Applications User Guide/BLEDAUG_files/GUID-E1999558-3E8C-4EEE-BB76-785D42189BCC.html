<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Beacon usage with extended advertising"/>
<meta name="DC.Relation" scheme="URI" content="GUID-15C6D62A-3123-46C4-95BD-1ABC029BA6C4.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E1999558-3E8C-4EEE-BB76-785D42189BCC"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Beacon usage with extended advertising</title>
</head>
<body id="GUID-E1999558-3E8C-4EEE-BB76-785D42189BCC">


    <h1 class="title topictitle1">Beacon usage with extended advertising</h1>

    <div class="body">
        <p class="p">To use the Beacon application with the advertising extensions capabilities,
            the <samp class="ph codeph">gBeaconAE_c define</samp> option must be set to 1. Doing this enables the
            usage of extended advertising and periodic advertising. The application cycles between
            these modes are in the following manner:</p>

        <ol class="ol"><li class="li">The first <strong class="ph b">ADVSW</strong> press starts legacy advertising.</li>

            <li class="li">The second <strong class="ph b">ADVSW</strong> press stops legacy advertising and starts
                extended advertising.</li>

            <li class="li">The third <strong class="ph b">ADVSW</strong> press stops extended advertising carrying data
                and then starts extended advertising without data and periodic advertising.</li>

            <li class="li">The fourth <strong class="ph b">ADVSW</strong> press stops periodic advertising and extended
                advertising without data and starts legacy advertising and extended
                advertising.</li>

            <li class="li">The fifth <strong class="ph b">ADVSW</strong> press stops all advertising types.</li>
              
        </ol>

        <p class="p">Not all smartphones support extended advertising, hence a different method
            to view the AE beacon is to use the <samp class="ph codeph">ble_shell</samp> application. In order to
            do this,perform the following steps:</p>

        <ol class="ol"><li class="li">Flash a board with the beacon application, as described above.</li>

            <li class="li">Flash a board with the ble_shell application, as described in <a class="xref" href="GUID-69DCE941-B29B-445D-AF65-13DA7D71E88A.html">Bluetooth LE Shell</a> and connect to
                it using a serial port. </li>

            <li class="li">Press the <strong class="ph b">ADVSW</strong> button two times on the beacon to start extended
                advertising on the coded phy.</li>

            <li class="li">To view the advertising data, enter the following commands in the shell
                terminal to set the scanning phy to coded and start scanning. <div class="fig fignone" id="GUID-E1999558-3E8C-4EEE-BB76-785D42189BCC__FIG_PRV_2XQ_JNB"><span class="figcap">Figure 1. Shell commands to view extended advertising</span>
                    
                <p class="p"><img class="image" id="GUID-E1999558-3E8C-4EEE-BB76-785D42189BCC__IMAGE_X3N_JXQ_JNB" src="GUID-D8AB5F92-087E-441E-81E9-80DB29C57B68-high.png"/></p>
</div>

            </li>

            <li class="li">To start the periodic advertising, press <strong class="ph b">ADVSW</strong> button again on
                the beacon.</li>

            <li class="li">To sync with the beacon, issue the following commands on the shell
                terminal: <div class="fig fignone"><span class="figcap">Figure 2. Shell commands to view the periodic advertising</span>
                    
                    <img class="image" id="GUID-E1999558-3E8C-4EEE-BB76-785D42189BCC__IMAGE_VM4_PXQ_JNB" src="GUID-C34871A7-AE64-43CE-9438-B0844F6D5A4D-high.png"/>
                </div>

            </li>
        
        </ol>

        <p class="p">The peer parameter of the <samp class="ph codeph">periodicsync</samp> command is the public
            address of the beacon.</p>

    
    
    <div class="section" id="GUID-E1999558-3E8C-4EEE-BB76-785D42189BCC__GUID-9CD68BBF-E8CA-44B7-ACDC-F76AAF68FA05"><h2 class="title sectiontitle">Extended Advertising
                with very large data</h2>To use very large advertising data for extended
            advertising, set the <samp class="ph codeph">gBeaconLargeExtAdvData_c</samp>
            <samp class="ph codeph">define</samp> to 1. The same steps are used to view the data using
                <samp class="ph codeph">ble_shell</samp>:<ol class="ol">
                <li class="li">Flash a board with the beacon application.</li>

                <li class="li">Flash a board with the ble_shell application, as described in <a class="xref" href="GUID-69DCE941-B29B-445D-AF65-13DA7D71E88A.html">Bluetooth LE Shell</a> and connect
                    to it using a serial port.</li>

                <li class="li">Press the <strong class="ph b">ADVSW</strong> button two times on the beacon to start
                    extended advertising on the coded PHY. </li>

                <li class="li">To view the advertising data, enter the following commands in the
                    shell terminal to set the scanning PHY to coded and start scanning. <div class="fig fignone"><span class="figcap">Figure 3. Shell command to view extended advertisements with large
                            data</span>
                        
                        <img class="image" id="GUID-E1999558-3E8C-4EEE-BB76-785D42189BCC__IMAGE_R3B_RXQ_JNB" src="GUID-AA5A84BC-B375-45B5-8E37-1D503B558ECC-high.png"/>
                    </div>

                </li>

            </ol>
</div>

    
    </div>

   
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-15C6D62A-3123-46C4-95BD-1ABC029BA6C4.html">Beacon</a></div>
</div>
</div>

</body>
</html>