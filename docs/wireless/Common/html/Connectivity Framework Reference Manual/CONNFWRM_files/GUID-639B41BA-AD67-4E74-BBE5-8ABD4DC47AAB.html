<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Bootloader FSCI configuration"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9EE283E7-E36D-420A-86E6-9D2159B9A820.html"/>
<meta name="prodname" content=""/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-639B41BA-AD67-4E74-BBE5-8ABD4DC47AAB"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Bootloader FSCI configuration</title>
</head>
<body id="GUID-639B41BA-AD67-4E74-BBE5-8ABD4DC47AAB">


    <h1 class="title topictitle1">Bootloader FSCI configuration</h1>

    <div class="body">
        <p class="p">The following macros can be changed to configure the FSCI protocol.</p>

        <p class="p"><strong class="ph b">gFsciIncluded_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>Enable/disable the FSCI module</p>

        <pre class="pre codeblock">#ifndef gFsciIncluded_c
#define gFsciIncluded_c<strong class="ph b"> 0</strong>
#endif</pre>

        <p class="p"><strong class="ph b">gFsciMaxPayloadLen_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>The maximum size in bytes of a FSCI command.</p>

        <pre class="pre codeblock">#ifndef gFsciMaxPayloadLen_c
#define gFsciMaxPayloadLen_c 2060
#endif</pre>

        <p class="p"><strong class="ph b">gFsciLenHas2Bytes_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>Number of bytes representing the payload length.</p>

        <pre class="pre codeblock">#ifndef gFsciLenHas2Bytes_c
#define gFsciLenHas2Bytes_c 1 /* Boolean */
#endif</pre>

        <p class="p"><strong class="ph b">gFsciBootUseSeqNo_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>Use sequence numbers for image chunks. If enabled, the first payload
            byte of the <em class="ph i">FSCI-PushImageChunk.Request</em> represents the current sequence
            number.</p>

        <pre class="pre codeblock">#ifndef gFsciBootUseSeqNo_c
#define gFsciBootUseSeqNo_c 1
#endif</pre>

        <p class="p"><strong class="ph b">gFsciUseCRC_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>If enabled, the <em class="ph i">FSCI-CommitImage.Request</em> must contain the CRC
            of the image. This CRC is compared with the CRC computed on the written image. If the
            received CRC does not match the computed CRC, an error status is reported by the
                <em class="ph i">FSCI-CommitImage.Response</em>. </p>

        <pre class="pre codeblock">#ifndef gFsciUseCRC_c
#define gFsciUseCRC_c 1
#endif</pre>

        <p class="p"><strong class="ph b">gFsciTxAck_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>If enabled, the bootloader sends an ACK frame for every FSCI command
            received correctly. </p>

        <pre class="pre codeblock">#ifndef gFsciTxAck_c
#define gFsciTxAck_c 0
#endif</pre>

        <p class="p"><strong class="ph b">gFsciRxAck_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>If enabled, the bootloader will wait for an ACK frame for every
            transmitted FSCI command.</p>

        <pre class="pre codeblock">#ifndef gFsciRxAck_c
#define gFsciRxAck_c 0
#endif</pre>

        <p class="p"><strong class="ph b">mFsciRxAckTimeoutMs_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>The amount of time in milliseconds that the bootloader should wait
            for an ACK frame.</p>

        <pre class="pre codeblock">#define mFsciRxAckTimeoutMs_c 100</pre>

        <p class="p"><strong class="ph b">mFsciTxRetryCnt_c</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>The number of retransmissions for a transmitted FSCI command for
            which an ACK frame was not received.</p>

        <pre class="pre codeblock">#define mFsciTxRetryCnt_c 4</pre>

        <p class="p"><strong class="ph b">gBoot_UseSpiSlave_d</strong></p>

        <p class="p"><strong class="ph b">Description:</strong> Enable/disable the SPI Slave interface used by the FSCI
            Bootloader.</p>

        <pre class="pre codeblock">#ifndef gBoot_UseSpiSlave_d
#define gBoot_UseSpiSlave_d 1
#endif</pre>

        <p class="p"><strong class="ph b">gSpi_DummyChar_d</strong></p>

        <p class="p"><strong class="ph b">Description:</strong> The byte to be sent to the SPI Master when the Slave has no data to
            send.</p>

        <pre class="pre codeblock">#ifndef gSpi_DummyChar_d
#define gSpi_DummyChar_d (0xFF)
#endif</pre>

        <p class="p"><strong class="ph b">gSPISlaveDapTxLogicOne_d</strong></p>

        <p class="p"><strong class="ph b">Description:</strong> Enable if the Data Available Pin should signal the SPI Master on
            logic 1.</p>

        <pre class="pre codeblock">#ifndef gSPISlaveDapTxLogicOne_c
#define gSPISlaveDapTxLogicOne_c (0)
#endif</pre>

        <p class="p"><strong class="ph b">gSPISlave_RxBufferSize_d</strong></p>

        <p class="p"><strong class="ph b">Description:</strong> The Rx buffer size of the SPI Slave driver.</p>

        <pre class="pre codeblock">#ifndef gSpiSlave_RxBufferSize_d
#define gSpiSlave_RxBufferSize_d (2100)
#endif</pre>

        <p class="p"><strong class="ph b">gBoot_UseUart_d</strong></p>

        <p class="p"><strong class="ph b">Description:</strong> Enable/disable the SPI Slave interface used by the FSCI
            Bootloader.</p>

        <pre class="pre codeblock">#ifndef gBoot_UseUart_d
#define gBoot_UseUart_d 1
#endif</pre>

        <p class="p"><strong class="ph b">gBoot_UseUartCalibration_d</strong></p>

        <p class="p"><strong class="ph b">Description: </strong>This macro can be found in the “Uart.h” file. It enables the UART
            automatic baudrate calibration protocol (FC protocol from AN2295).</p>

        <pre class="pre codeblock">#ifndef gBoot_UseUartCalibration_d
#define gBoot_UseUartCalibration_d 0
#endif</pre>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-9EE283E7-E36D-420A-86E6-9D2159B9A820.html">FSCI Bootloader</a></div>
</div>
</div>

</body>
</html>