<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Flex NVM"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0E23C916-82C8-415A-8469-773251C6D3F3.html"/>
<meta name="prodname" content=""/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A974C41A-62B1-4BA0-B68B-38EF6A019C08"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Flex NVM</title>
</head>
<body id="GUID-A974C41A-62B1-4BA0-B68B-38EF6A019C08">


    <h1 class="title topictitle1">Flex NVM</h1>

    <div class="body">
        <p class="p">Several Kinetis MCU-based platforms implement the Flex-Memory technology with up to 512
            KB of FlexNVM and up to 16 KB of FlexRAM. The FlexNVM can be partitioned to support a
            simulated EEPROM subsystem. All the read/write operations are done in the FlexRAM area.
            Every time a write operation occurs in this area, a new EEPROM backup record is created
            and stored in the FlexNVM. The EEPROM endurance capability can exceed 10 000 000
            cycles.</p>

        <p class="p">The NonVolatile Memory platform component supports this feature and implements the
            associated routines. From the user point of view, the API is exactly the same. All you
            have to do is to enable the FlexNVM support, by the means of the <strong class="ph b">gNvUseFlexNVM_d</strong>
            compiler switch.</p>

        <p class="p">The records and the associated Meta Information Tags are written to the FlexRAM memory
            window. Each time a write/modify action is performed within FlexRAM, a new backup copy
            is produced and stored into the FlexNVM memory. The wear-leveling algorithm is
            implemented and controlled by the hardware and is not under user control. The Meta
            Information Tags store information about the ID of the NV table entry and the offset to
            the record itself, related to the FlexRAM start address. After all datasets are written
            to FlexRAM and when an element of a given dataset (or the entire dataset) is changed and
            the upper layer decides that the change must be saved, the corresponding record is
            overwritten (partially or totally). In the example below eight NV table entries
            (datasets) are saved in FlexRAM. The ‘<strong class="ph b">meta08</strong>’ refers to the ‘<strong class="ph b">rec08</strong>’
            record, and using the information stored by the ‘<strong class="ph b">meta08’</strong>, the entire record
                ‘<strong class="ph b">rec08’</strong> can be read / updated, or just a single element (‘<strong class="ph b">e5’</strong> in the
            below example).</p>

        <div class="fig fignone" id="GUID-A974C41A-62B1-4BA0-B68B-38EF6A019C08__FIG_HNZ_WFM_2Z"><span class="figcap">Figure 1. FlexRAM memory used to store NV table entries</span>
            
            <img class="image" id="GUID-A974C41A-62B1-4BA0-B68B-38EF6A019C08__IMAGE_Y5P_ZFM_2Z" src="GUID-2E5F0C19-51B2-4835-8306-D4E90F9EBEDC-high.png"/>
        </div>

        <p class="p">If Flex NVM is enabled, unmirrored datasets are not supported. Neither the extended
            functionality is supported.</p>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-0E23C916-82C8-415A-8469-773251C6D3F3.html">Flash Management and Non-Volatile Storage Module</a></div>
</div>
</div>

</body>
</html>