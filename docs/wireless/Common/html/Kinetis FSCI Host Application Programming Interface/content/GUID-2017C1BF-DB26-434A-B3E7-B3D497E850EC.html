<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="How to Control Both the BLE and Thread Stacks"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="4"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2017C1BF-DB26-434A-B3E7-B3D497E850EC"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>How to Control Both the BLE and Thread Stacks</title>
</head>
<body id="GUID-2017C1BF-DB26-434A-B3E7-B3D497E850EC">


  <h1 class="title topictitle1">How to Control Both the BLE and Thread Stacks</h1>

  
  <div class="body"><p class="shortdesc"/>

    <p class="p">Project <samp class="ph codeph">ble_thread_host_controlled_device</samp> may run both the BLE and Thread stacks in parallel. Host SDK provides a script which controls both stacks in the following scenario:</p>

    <ol class="ol">
      <li class="li">Create a Thread network with Commissioning with two devices.</li>

      <li class="li">Start a continuous ping between them.</li>

      <li class="li">Start a Heart Rate Sensor profile on the Leader.</li>

    </ol>

    <p class="p">where steps 2 and 3 are executed in parallel, to demonstrate that both stacks can run normally at the same time.</p>

    <p class="p">Functionality is provided by the script:
      host_sdk/hsdk-python/src/com/nxp/wireless_connectivity/test/multimode.py.</p>

    <pre class="pre codeblock">$ python multimode.py
Usage: # python multimode.py &lt;port thread_bluetooth_host_controlled_device_hybrid&gt; &lt;port thread_host_controlled_device&gt; &lt;802.15.4 channel [11-25]&gt;
</pre>

    <p class="p">The second argument is the port of the Thread Joiner, which may be any THCI-enabled router
      eligible device, while the third is the 802.15.4 channel for the Thread network to start
      on.</p>

    <p class="p">The Heart Rate Service is presented as use case for exercising the API of a BLE black box,
      located in the example hsdk-python\src\com\nxp\wireless_connectivity\test\hrs.py.
      Functionality of hrs.py is fully integrated in multimode.py, so for one to understand the BLE
      FSCI internals, hrs.py is be a good starting point. The previous section presents more
      information about the Heart Rate Sensor script.</p>

    <p class="p">In addition, the project ble_thread_router_wireless_uart allows the control
      of the BLE and Thread stacks via a BLE connection, using the Kinetis BLE Toolbox Wireless UART
      application. From an Android or iOS-based smartphone, the user can connect to the multimode
      stack via an advertised BLE connection and then, using the virtual hyperterminal exposed by
      the Thread stack, the user can send Thread management commands to manage the Thread network.
      More details, including application screenshots are presented in the <em class="ph i">Kinetis Thread Stack
        Demo Applications User's Guide</em>.</p>

  </div>


</body>
</html>