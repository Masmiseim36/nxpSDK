<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Running the scenario"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0793F31B-BB24-42EA-A0AF-2CE01A9685C1.html"/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Publisher" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Running the scenario</title>
</head>
<body id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC">


	<h1 class="title topictitle1">Running the scenario </h1>

	<div class="body">
		<ul class="ul" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__UL_O51_JG3_3Z">
			<li class="li">To install Test Tool if not present on PC:<ul class="ul" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__UL_DV1_JG3_3Z">
				<li class="li">Go to the <a class="xref" href="https://www.nxp.com/products/wireless-connectivity/zigbee/kinetis-kw41z-2.4-ghz-dual-mode-ble-and-802.15.4-wireless-radio-microcontroller-mcu-based-on-arm-cortex-m0-plus-core:KW41Z?tab=Design_Tools_Tab" target="_blank">KW41Z</a> page</li>

				<li class="li">Click to go to the <strong class="ph b">Software &amp; Tools</strong> tab</li>

				<li class="li">In the <strong class="ph b">Lab and Test Software</strong> select the link to Download <strong class="ph b">Test Tool for Connectivity Products</strong></li>

			</ul>
</li>

		</ul>

		<img class="image" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__IMAGE_PFV_MG3_3Z" src="GUID-F780E0ED-5558-4436-B444-348CB6B13569-high.jpg"/>
		<div class="fig fignone" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__FIG_OJH_JG3_3Z"><span class="figcap">Figure 1. Lab and test software tab</span>
			
		</div>

		<ul class="ul" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__UL_AHK_4G3_3Z">
			<li class="li">Sign in or create a nxp.com account and agree to license terms if acceptable</li>

			<li class="li">Wait for the installer to download</li>

			<li class="li">Launch Test Tool Setup and follow the installation wizard to deploy the program</li>

			<li class="li">Copy the <strong class="ph b">ThreadIp.xml</strong> descriptor file from &lt;Thread
				Installation&gt;NXP\SDK_2.2_MKW41Z512xxx4\tools\wireless\xml_fsci to &lt;Test Tool
				Installation&gt;\Xml (for example, c:\NXP\Test_Tool_12.x.x)<ul class="ul" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__UL_F3K_4G3_3Z">
					<li class="li">If Test Tool is already installed:</li>

				</ul>
</li>

			<li class="li">Copy the <strong class="ph b">ThreadIp.xml</strong> descriptor file from &lt;Thread
				Installation&gt;\NXP\SDK_2.2_MKW41Z512xxx4\tools\wireless\xml_fsci to &lt;Test Tool
				Installation&gt;\Xml (for example, c:\NXP\Test_Tool_12.x.x)<ul class="ul" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__UL_U3K_4G3_3Z">
					<li class="li">Connect <strong class="ph b">Node A </strong>via USB to the OpenSDA/Openlink port (or
						the USB port on USB-KW24D512) to the Windows PC</li>

					<li class="li">Launch Test Tool via Open the application as installed in
						Windows <strong class="ph b">Start Menu -&gt; NXP Test Tool -&gt; Test Tool 12</strong></li>

					<li class="li">In the tool bar, select <strong class="ph b">Command Console</strong></li>

					<li class="li">The COM port for Node A should be displayed in the panel on the
						left.</li>

					<li class="li"><strong class="ph b">Right-click</strong> the COM port, choose <strong class="ph b">Configure Device</strong>
						and change the baud rate to <strong class="ph b">115200bps</strong>, then click OK</li>

				</ul>
</li>

		</ul>

		<img class="image" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__IMAGE_H4M_TG3_3Z" src="GUID-E7C95E08-4ACD-4A41-8A68-C7DA6F106122-high.jpg"/>
		<div class="fig fignone" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__FIG_AYV_4G3_3Z"><span class="figcap">Figure 2. Configuring the serial port in test tool</span>
			
		</div>

		<ul class="ul" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__UL_MDN_5G3_3Z">
			<li class="li">Double click the COM port and the Command Console Window opens</li>

		</ul>

		<img class="image" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__IMAGE_TKL_YG3_3Z" src="GUID-AAFA77DB-A771-4E48-AEEC-CF4A403448D8-high.jpg"/>
		<div class="fig fignone" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__FIG_MMW_5G3_3Z"><span class="figcap">Figure 3. Port opened in command console</span>
			
		</div>

		<ul class="ul" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__UL_YVK_ZG3_3Z">
			<li class="li">Ensure Node A is in factory reset state (LEDs flashing)</li>

			<li class="li">In the Loaded Command Set select ThreadIp.xml</li>

		</ul>

		<img class="image" src="GUID-23502B18-510A-405C-8C23-52E731E51D85-high.jpg"/>
		<div class="fig fignone" id="GUID-2EA52F64-26DF-48BF-BC1E-3CB9761CF9DC__FIG_E1X_ZG3_3Z"><span class="figcap">Figure 4. Selecting Thread XML</span>
			
		</div>

		<ul class="ul">
			<li class="li">Double-click the <strong class="ph b">THR_CreateNwk.Request </strong>command in the commands panel and note the network creation process displayed in the log</li>

		</ul>

		<img class="image" src="GUID-FEEF9A34-586E-4B3F-A037-29BAB632CEB9-high.jpg"/>
		<div class="fig fignone"><span class="figcap">Figure 5. Sending command to Create New Network in Test Tool via THCI</span>
			
		</div>

		<ul class="ul">
			<li class="li">Double click MESHCOP_StartCommissioner command to start a commissioner on the node with the default settings</li>

		</ul>

		<img class="image" src="GUID-DB3C28FD-DE45-4D39-9CC5-980F5BB54CC0-high.jpg"/>
		<div class="fig fignone"><span class="figcap">Figure 6. Starting a Commissioner</span>
			
		</div>

		<ul class="ul">
			<li class="li">Add an expected joiner by clicking command <strong class="ph b">MESHCOP_AddExpectedJoiner</strong> and filling in the parameters as in the figure below, then click <strong class="ph b">Send…</strong> at the bottom of the middle panel</li>

		</ul>

		<img class="image" src="GUID-8D501E7B-5A0A-45F5-972B-EAA13B268FA1-high.png"/>
		<div class="fig fignone"><span class="figcap">Figure 7. Add Expected Joiner command</span>
			
		</div>

		<img class="image" src="GUID-AA5D86BB-D341-4CFF-83A6-4EC2BA463AE6-high.png"/>
		<div class="fig fignone"><span class="figcap">Figure 8. Add an Expected Joiner Log</span>
			
		</div>

		<ul class="ul">
			<li class="li">Steer all nodes to join by clicking <strong class="ph b">MESHCOP_SyncSteeringData.Request</strong> filling in the parameters as in the figure below, then click <strong class="ph b">Send…</strong> at the bottom of the middle panel</li>

		</ul>

		<img class="image" src="GUID-9F4C5F60-F67A-4A4E-AE13-C3F8B932AB33-high.jpg"/>
		<div class="fig fignone"><span class="figcap">Figure 9. Steer new devices to allow all joiners</span>
			
		</div>

		<ul class="ul">
			<li class="li">Initiate <strong class="ph b">Node B</strong> joining by pressing any switch on the board and check
				that it joins the network and becomes an Active Router</li>

		</ul>

	</div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-0793F31B-BB24-42EA-A0AF-2CE01A9685C1.html">Exercising the Host controlled interface with Test Tool</a></div>
</div>
</div>

</body>
</html>