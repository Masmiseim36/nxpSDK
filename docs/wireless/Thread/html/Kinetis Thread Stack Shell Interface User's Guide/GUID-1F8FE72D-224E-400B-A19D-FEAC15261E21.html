<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Socket Commands"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="prodname" content="MC56F825x"/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Publisher" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-1F8FE72D-224E-400B-A19D-FEAC15261E21"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Socket Commands</title>
</head>
<body id="GUID-1F8FE72D-224E-400B-A19D-FEAC15261E21">


  <h1 class="title topictitle1">Socket Commands</h1>

  
  <div class="body"><p class="shortdesc"/>

    <p class="p">Socket commands allow using the Thread IP stack functionality via the shell at
      the socket level. The module can be enabled/disabled by setting the <samp class="ph codeph">SOCK_DEMO</samp>
      macro definition to 1/0 or TRUE/FALSE in the application configuration file (e.g.:
      <samp class="ph codeph">config.h</samp>).</p>

    <p class="p">The shell commands available for the socket demo application are displayed after typing <samp class="ph codeph">help socket</samp> in console.</p>

   
    <pre class="pre codeblock">$ help socket
socket - IP Stack BSD Sockets commands
      socket open &lt;protocol&gt; &lt;local ip addr&gt; &lt;local port&gt; - Local address can be 0::0 and local port 0 for automatic selection 
      socket send &lt;socket id&gt; &lt;payload&gt; 
      socket close &lt;socket id&gt; 
      socket connect &lt;socket id&gt; &lt;remote ip addr&gt; &lt;remote port&gt; 

    </pre>

    <p class="p">These commands are valid for opening a socket as a <span class="ph">UDP </span>client.</p>

    
    <p class="p"><samp class="ph codeph">socket open &lt;protocol&gt; &lt;local ip addr&gt; &lt;local port&gt; </samp> - Opens a socket and binds it to local address and local port. Usually local address is the unspecified address 0::0 so that the stack selects a source address according to destination address. </p>

    <p class="p">In this example, a UDP socket is opened and connected to the remote address 2001::0, port 1234.</p>

    <pre class="pre codeblock">$ socket open udp 2001::0 1234
Opening Socket... OK
Socket id is: 0
<span class="ph">$ socket connect 0 2001:1 1234 </span>
<span class="ph">Socket is configured with remote peer information</span></pre>

    
    
    <p class="p"><samp class="ph codeph">socket send &lt;socket id&gt; &lt;payload&gt;</samp> - Sends the ASCII payload on a previously open socket. The socket must be connected by calling socket connect command first.</p>
 
    <p class="p"><samp class="ph codeph">socket close &lt;socket id&gt;</samp>  - Closes the socket using its identifier and all allocated resources are freed. </p>

    <pre class="pre codeblock">$ socket send 0 rawsocketdata
Socket Data Sent
<span class="ph">$ socket close 0   </span>
<span class="ph">Socket 0 was closed  </span>
</pre>


  </div>


</body>
</html>