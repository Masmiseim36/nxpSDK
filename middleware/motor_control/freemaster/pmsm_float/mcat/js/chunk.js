(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2183f0"],{c9bf:function(n,o,e){"use strict";e.r(o);e("d3b7");var t,c=e("53ca"),r="";function i(n,o){n<10?(n+=1,r?o():(console.log("Not connected yet, let's wait..."),setTimeout((function(){i(n,o)}),500))):console.error("Unable to connect to freeMASTER after 10 times")}function a(n,o){i(0,(function(){t.LocalFileOpen(n,"w").then((function(e){var c=e.data;t.LocalFileWriteString(c,o,!1).then((function(o){console.log("Wrote "+o.data+" characters to "+n),t.LocalFileClose(c).then((function(){return console.log("Closed: "+n)})).catch((function(o){return console.log("Error: "+o+" while closing: "+n)}))})).catch((function(n){console.error(n)}))})).catch((function(n){console.error(n)}))}))}function l(n,o){i(0,(function(){t.LocalFileOpen(n,"r").then((function(e){var c=e.data;console.log("Opened "+n),t.LocalFileReadString(c,2147483647,!1).then((function(e){t.LocalFileClose(c).then((function(){console.log("Closed: "+n),o(e.data)})).catch((function(o){console.log("Error while closing: "+n+", error: "+o)}))})).catch((function(n){console.error(n)}))})).catch((function(n){console.error(n)}))}))}function u(n){return new Promise((function(o,e){i(0,(function(){t.LocalFileOpen(n,"r").then((function(e){o(n),t.LocalFileClose(e.data).then((function(){})).catch((function(){console.error("Error while closing file: "+n)}))})).catch((function(){e()}))}))}))}function s(n){return new Promise((function(o,e){i(0,(function(){t.IsCommPortOpen().then((function(c){c.data?t.ReadVariable(n).then((function(n){o(n.data)})).catch((function(n){e(n)})):e("Cannot read variable - communication port is not open")}))}))}))}function f(n,o){i(0,(function(){t.IsCommPortOpen().then((function(e){e.data?t.WriteVariable(n,o).then((function(){console.log("Variable",n,"was updated with value:",o)})).catch((function(n){console.log(n.msg)})):console.warn("Cannot write variable to freeMaster - communication port is not open.")}))}))}function h(n,o){i(0,(function(){t.IsCommPortOpen().then((function(e){e.data?t.ReadVariable(n).then((function(n){o(n.xtra)})).catch((function(e){console.log("Cannot find value: ",n,", error message is: ",e.msg),o("")})):(console.warn("Cannot read variable - communication port is not open."),o(""))}))}))}function d(n,o){t.OnVariableChanged=function(n,e,t){o(n,t)},i(0,(function(){t.IsCommPortOpen().then((function(o){o.data?t.SubscribeVariable(n,2e3).then((function(){})).catch((function(n){console.log("Error: ",n)})):console.warn("Cannot subscribe variable - communication port is not open")}))}))}function m(){r=!0,console.log("Connected to freeMASTER"),t.EnableExtraFeatures(!0),t.EnableEvents(!0)}function g(){r=!1,console.warn("Socket closed")}function b(n){r=!1,console.error("Socket error: ",n.message)}function p(n){r=!1,console.error("Server error: ",n.message)}function w(){"object"!==Object(c["a"])(t)?(t=new PCM("localhost:41000",m,g,b),t.OnServerError=p,t.OnSocketError=b):console.log("Already connected to freeMASTER")}o["default"]=[w,f,s,a,l,u,h,d]}}]);
//# sourceMappingURL=chunk.js.map